<!DOCTYPE html>
<html>
<head>
  <title>Library Desk Metrics</title>
</head>
<body>

<style>
      body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        background-color: #f0f0f0;
      }

      button.my-button {
        padding: 12px 24px;
        font-size: 18px;
        background-color: blue;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
        transition: background-color 0.3s ease;
      }

      button.my-button:hover {
        background-color: #1a1a1a;
      }
    </style>


<center>
    <form id="form" class="container" method="POST">
      

	<div class="field">
        <label class="label">How Many Transactions?</label>
        <div class="control">
          <input
            class="input"
            type="text"
            placeholder="Input Amount #"
            name="Value"
          />
        </div>
      </div>
<br><br>
    
      <div class="field">
        <label class="label">Choose <b>Desk</b> Transaction:</label>
<br><br>
	      <div class="control">
<label class="radio">
            <input type="radio" name="Transaction" value="Accounts" /> Accounts
          </label>
<label class="radio">
            <input type="radio" name="Transaction" value="Reference" /> Reference
          </label>
<label class="radio">
            <input type="radio" name="Transaction" value="Internet/PC" /> Internet/PC
          </label>
<label class="radio">
            <input type="radio" name="Transaction" value="TexShare" /> TexShare
          </label>
<label class="radio">
            <input type="radio" name="Transaction" value="Info Desk Support" /> Info Desk Support
          </label>

		
<br><br>
		      <div class="field">
        <label class="label">Choose <b>Window</b> Transaction:</label>
<br><br>
<label class="radio">
	<input type="radio" name="Transaction" value="Accounts Window" /> Accounts Window
          </label>
<label class="radio">
            <input type="radio" name="Transaction" value="Reference Window" /> Reference Window
          </label>
<label class="radio">
            <input type="radio" name="Transaction" value="Internet/PC Window" /> Internet/PC Window
          </label>
<label class="radio">
            <input type="radio" name="Transaction" value="TexShare Window" /> TexShare Window
          </label>
<label class="radio">
            <input type="radio" name="Transaction" value="Info Desk Support Window" /> Info Desk Support Window
          </label>



        </div>
      </div>

<br><br>
	    
      <div class="field is-grouped">
        <div class="control">
          <button class="my-button" type="submit" id="submit-button">
            Submit
          </button>
        </div>
        </div>
    </form>
    <div
      id="message"
      style="
        display: none;
        margin: 20px;
        font-weight: bold;
        color: green;
        padding: 8px;
        background-color: beige;
        border-radius: 4px;
        border-color: aquamarine;
      "
    ></div>

    <script>
      document.getElementById("form").addEventListener("submit", function (e) {
        e.preventDefault(); // Prevent the default form submission
        document.getElementById("message").textContent = "Submitting..";
        document.getElementById("message").style.display = "block";
        document.getElementById("submit-button").disabled = true;

        // Collect the form data
        var formData = new FormData(this);
        var keyValuePairs = [];
        for (var pair of formData.entries()) {
          keyValuePairs.push(pair[0] + "=" + pair[1]);
        }

        var formDataString = keyValuePairs.join("&");

        // Send a POST request to your Google Apps Script
        fetch(
          "https://script.google.com/a/macros/cityoflewisville.com/s/AKfycbwlgnswE_9HpJng9VwLs3PldpY-UgEbkHFDxcuMS30VNqscIbJn0nBRCN0ow_DRvJTe/exec",

          {
            redirect: "follow",
            method: "POST",
	    mode: 'no-cors',
            body: formDataString,
            headers: {
              "Content-Type": "text/plain;charset=utf-8",
            },
          }
        )
          .then(function (response) {
            // Check if the request was successful
            if (response) {
              return response; // Assuming your script returns JSON response
            } else {
              throw new Error("Failed to submit the form.");
            }
          })
          .then(function (data) {
            // Display a success message
            document.getElementById("message").textContent =
              "Data submitted successfully!";
            document.getElementById("message").style.display = "block";
            document.getElementById("message").style.backgroundColor = "green";
            document.getElementById("message").style.color = "beige";
            document.getElementById("submit-button").disabled = false;
            document.getElementById("form").reset();

            setTimeout(function () {
              document.getElementById("message").textContent = "";
              document.getElementById("message").style.display = "none";
            }, 2600);
          })
          .catch(function (error) {
            // Handle errors, you can display an error message here
            console.error(error);
            document.getElementById("message").textContent =
              "An error occurred while submitting the form.";
            document.getElementById("message").style.display = "block";
          });
      });
    </script>
  
</body>
</html>
